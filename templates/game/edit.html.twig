{% extends 'base.html.twig' %}

{% block title %}Modifier le jeu{% endblock %}

{% block body %}
<div class="dashboard-wrap">
  <div class="cyber-card" style="max-width:800px;margin:auto;">
    <h2 style="color:var(--neon-purple); text-align:center; margin-bottom:12px;">
      Modifier le jeu : {{ jeu.titre }}
    </h2>

    {{ form_start(form, {'attr': {'class':'cyber-form'}, 'novalidate': 'novalidate'}) }}

    <div class="form-field">
      {{ form_label(form.titre, 'Nom du jeu') }}
      {{ form_widget(form.titre, {'attr': {'class':'cyber-input'}}) }}
    </div>

    <div class="form-field">
      {{ form_label(form.description, 'Description') }}
      {{ form_widget(form.description, {'attr': {'class':'cyber-input'}}) }}
    </div>

    <div class="form-field">
      {{ form_label(form.ville, 'Ville') }}
      {{ form_widget(form.ville, {'attr': {'class':'cyber-input'}}) }}
    </div>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <div style="flex:1;">
        {{ form_row(form.latitude, {'attr': {'class':'cyber-input'}}) }}
      </div>
      <div style="flex:1;">
        {{ form_row(form.longitude, {'attr': {'class':'cyber-input'}}) }}
      </div>
    </div>

    <div class="form-field">
      {{ form_label(form.dateSoiree, 'Date et heure de la soirée') }}
      {{ form_widget(form.dateSoiree, {'attr': {'class':'cyber-input'}}) }}
    </div>

    <div class="form-field">
      {{ form_label(form.nombrePlaces, 'Nombre de places') }}
      {{ form_widget(form.nombrePlaces, {'attr': {'class':'cyber-input'}}) }}
    </div>

    <div style="text-align:center; margin-top:10px;">
      <button type="submit" class="btn-cyberpunk">Mettre à jour</button>

      {% if is_granted('ROLE_ADMIN') %}
        <a href="{{ path('app_game_index') }}" class="btn-cyberpunk" style="background-color: var(--neon-blue);">Retour</a>
      {% else %}
        <a href="{{ path('user_dashboard') }}" class="btn-cyberpunk" style="background-color: var(--neon-blue);">Retour</a>
      {% endif %}
    </div>

    {{ form_end(form) }}
  </div>
</div>
{% endblock %}
